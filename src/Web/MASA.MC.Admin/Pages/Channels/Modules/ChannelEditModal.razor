@inherits AdminCompontentBase
<div @ref="Ref">
    <PModal Width=1200 Value="@_visible" FormModel="_model" OnCancel="HandleCancel">
        <MCard Class="pa-12">
            <MForm Model="_model" EnableValidation @ref="_form">
                <MRow Justify="@("center")">
                    <MCol Cols="12" Sm="6" Md="3">
                        <MTextField @bind-Value="_model.DisplayName" Label="@T("ChannelDisplayName")" TValue="string"></MTextField>
                    </MCol>
                </MRow>
                <MRow>
                    <MCol Cols="6">
                        <MSelect @bind-Value="@_model.Type"
                                 Items="@channelTypeItems"
                                 Label="@T("ChannelType")"
                                 Readonly
                                 ItemText="item => item.ToString()"
                                 ItemValue="item => item"
                                 Dense
                                 Outlined
                                 HideDetails="@("auto")">
                        </MSelect>
                    </MCol>
                    <MCol Cols="6">
                        <MTextField @bind-Value="_model.Code"
                                    Label="@T("ChannelCode")"
                                    Readonly
                                    Dense
                                    Outlined
                                    HideDetails="@("auto")" />
                    </MCol>
                </MRow>
                <ChannelExtraProperties @bind-Value="_model.ExtraProperties" @bind-Type="_model.Type" />
                <MRow>
                    <MCol Cols="12">
                        <MTextarea @bind-Value="_model.Description"
                                   Label="@T("ChannelDescription")"
                                   Dense
                                   Outlined
                                   HideDetails="@("auto")">
                        </MTextarea>
                    </MCol>
                </MRow>
                <div class="d-flex">
                    <MButton Class="mr-6" Text Color="error" OnClick="HandleDel">@T("Delete")</MButton>
                    <MSpacer></MSpacer>
                    <MButton Color="rounded-pill primary" Class="small-button" OnClick="async() => await HandleOk(context)">@T("Save")</MButton>
                </div>
            </MForm>
        </MCard>
    </PModal>
</div>
