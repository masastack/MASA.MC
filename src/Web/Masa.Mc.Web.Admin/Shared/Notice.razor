@inherits AdminCompontentBase
<MMenu OffsetX Left OffsetY>
    <ActivatorContent Context="menuContext">
        @if (!NoticeState.IsRead)
        {
            <MBadge Color="pink" Bordered Dot OffsetX="10" OffsetY="10">
                <MIcon @attributes="menuContext.Attrs" Size=24 Class="pl-2" Color="neutral-lighten-3">mdi-bell</MIcon>
            </MBadge>
        }
        else
        {
            <MIcon @attributes="menuContext.Attrs" Size=24 Class="pl-2" Color="neutral-lighten-3">mdi-bell</MIcon>
        }
    </ActivatorContent>
    <ChildContent>
        <MCard MaxWidth="400"
               Style="background-color:#4318FF">
            <MToolbar Color="blue darken-4"
                      Dark>
                <MToolbarTitle Class="font-18-medium">@T("WebsiteMessage")</MToolbarTitle>

                <MSpacer></MSpacer>

                <MButton Icon>
                    <MIcon>mdi-bell-outline</MIcon>
                </MButton>
            </MToolbar>

            <MList ThreeLine>
                @foreach (var item in NoticeState.Notices)
                {
                    <MListItem Link Href="@($"/websiteMessages/websiteMessageManagement/{item.Id}")">
                        <MListItemAvatar Class="mt-2">
                            <EmptyAvatar Value="@item.Channel?.DisplayName" Size="40" />
                        </MListItemAvatar>

                        <MListItemContent>
                            <MListItemTitle Class="font-14-medium">@item.Channel?.DisplayName</MListItemTitle>
                            <MListItemSubtitle Class="font-12 py-1">@item.Title</MListItemSubtitle>
                            <MListItemSubtitle Class="font-10">@item.SendTime.ToString(T("$MonthDayFormat"))</MListItemSubtitle>
                        </MListItemContent>
                    </MListItem>
                }
            </MList>
            <MList Roboto>
                <MListItem Link Href="/websiteMessages/websiteMessageManagement" Class="border-top-solid pt-2">
                    <MListItemIcon Class="mr-0">
                        <MIcon Size="16" Color="#7681AB">mdi-keyboard-backspace</MIcon>
                    </MListItemIcon>

                    <MListItemContent>
                        <MListItemTitle Class="font-12">@T("Description.Notice.MoreTips")</MListItemTitle>
                    </MListItemContent>
                </MListItem>
            </MList>
        </MCard>
    </ChildContent>
</MMenu>