@inherits AdminCompontentBase
<div @ref="Ref">
    <McModal Value="@_visible" ValueChanged="HandleVisibleChanged" Title="@T("Permission.EditChannel")" ContentStyle="height: 597px;">
        <ChildContent>
            <MForm Model="_model" EnableValidation @ref="_form" Class="full-height">
                <MRow>
                    <MCol Class="pt-0 mt-2">
                        <DefaultTextField @bind-Value="_model.DisplayName"
                                          Label="@T("DisplayName.ChannelDisplayName")">
                        </DefaultTextField>
                    </MCol>
                    <MCol>
                        <DefaultTextField @bind-Value="_model.Code"
                                          Disabled
                                          Label="@T("DisplayName.ChannelCode")">
                        </DefaultTextField>
                    </MCol>
                </MRow>
                <MRow Class="mt-6">
                    <MCol>
                        <DefaultSelect @bind-Value="@_model.Type"
                                       Items="@channelTypeItems"
                                       Label="@T("DisplayName.ChannelType")"
                                       Readonly
                                       ItemText="item => T(item.ToString())"
                                       ItemValue="item => item"
                                       Disabled>
                        </DefaultSelect>
                    </MCol>
                </MRow>
                <ChannelExtraProperties @ref="_channelExtraPropertiesRef" @bind-Value="_model.ExtraProperties" @bind-Type="_model.Type" />
                <div class="flex-column justify-space-between mt-9" Style="height: 80px;">
                    <div class="subtitle3 regular--text">@T("DisplayName.Color.Lable")</div>
                    <ColorsGroup @bind-Value="_model.Color" Colors='_colors' />
                </div>
                <MRow Class="mt-6">
                    <MCol>
                        <MTextarea @bind-Value="_model.Description"
                                   Label="@T("DisplayName.ChannelDescription")"
                                   Outlined
                                   HideDetails="@("auto")">
                        </MTextarea>
                    </MCol>
                </MRow>
            </MForm>
        </ChildContent>
        <ActionContent>
            <MIcon Size="24" Color="error" Class="align-self-center" OnClick="HandleDel">mdi-delete</MIcon>
            <MSpacer></MSpacer>
            <MButton Color="primary" Class="btn-form" OnClick="async() => await Throttle(HandleOk)">@T("Save")</MButton>
        </ActionContent>
    </McModal>
</div>
