@inherits AdminCompontentBase
<div class="message-template-items">
    <MDataTable Headers="_headers"
                Items="Value"
                HideDefaultFooter>
        <TopContent>
            <MToolbar Flat>
                <MToolbarTitle Class="subtitle3 regular--text pa-0">@T("DisplayName.MessageTemplateItem")</MToolbarTitle>
                <MDialog @bind-Value="_dialog"
                         MaxWidth="500">
                    <MCard>
                        <MCardTitle>
                            <span class="text-h6">@FormTitle</span>
                        </MCardTitle>

                        <MCardText>
                            <MContainer>
                                <MRow>
                                    <MCol Cols="12"
                                          Sm="6"
                                          Md="4">
                                        <MTextField @bind-Value="_editedItem.Code"
                                                    Label="@T("DisplayName.MessageTemplateItemCode")"></MTextField>
                                    </MCol>
                                    <MCol Cols="12"
                                          Sm="6"
                                          Md="4">
                                        <MTextField @bind-Value="_editedItem.MappingCode"
                                                    Readonly
                                                    Label="@T("DisplayName.MessageTemplateItemMappingCode")"></MTextField>
                                    </MCol>
                                    <MCol Cols="12"
                                          Sm="6"
                                          Md="4">
                                        <MTextField @bind-Value="_editedItem.DisplayText"
                                                    Label="@T("DisplayName.MessageTemplateItemDisplayText")"></MTextField>
                                    </MCol>
                                </MRow>
                            </MContainer>
                        </MCardText>

                        <MCardActions>
                            <MSpacer></MSpacer>
                            <MButton Color="blue darken-1"
                                     Text
                                     OnClick="Close">
                                @T("Cancel")
                            </MButton>
                            <MButton Color="blue darken-1"
                                     Text
                                     OnClick="SaveAsync">
                                @T("Save")
                            </MButton>
                        </MCardActions>
                    </MCard>
                </MDialog>
                <MDialog @bind-Value="_dialogDelete" MaxWidth="500">
                    <MCard>
                        <MCardTitle Class="text-subtitle-2">@T("DeletionConfirmationMessage")</MCardTitle>
                        <MCardActions>
                            <MSpacer></MSpacer>
                            <MButton Color="blue darken-1" Text OnClick="CloseDelete">@T("Cancel")</MButton>
                            <MButton Color="blue darken-1" Text OnClick="DeleteItemConfirmAsync">@T("OK")</MButton>
                            <MSpacer></MSpacer>
                        </MCardActions>
                    </MCard>
                </MDialog>
            </MToolbar>
        </TopContent>
        <ItemColContent>
            @if (context.Header.Value == "actions")
            {
                <MIcon Small
                   Class="mr-2"
                   OnClick="()=>EditItem(context.Item)">mdi-pencil</MIcon>
            }
            else
            {
                @context.Value
            }
        </ItemColContent>
    </MDataTable>
</div>